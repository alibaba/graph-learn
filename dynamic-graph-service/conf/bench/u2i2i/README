# E2E test with u2i2i generated records.

Default run coordinator on host 100.82.16.17, if on other hosts, edit the following
field in `serving.yml` and `sampling.yml`:
``` yaml
coordinator-client:
  server-ipaddr: "100.82.16.17:50051"
```

## Start coordinator:
``` shell
cd python/service
python3 coordinator.py --config-file ../../conf/bench/u2i2i/coordinator.yml
```

## Start Sampling Worker:
``` shell
# Run on other host with Serving Worker
cd built/bin
rm -rf pv && mkdir -p pv
./service_main --config-file="../../conf/bench/u2i2i/sampling.yml" --log-to-console --pod-id=0
```

## Start Serving Worker:
``` shell
cd built/bin
rm -rf pv && mkdir -p pv
./service_main --config-file="../../conf/bench/u2i2i/serving.yml" --log-to-console --pod-id=0
```

## Start DataLoader in Client:
``` shell
# Only start the dataloader thread
python3 test_client.py
```

## Start Client
``` shell
# Modify the url in HttpClient.java
mvn clean compile assembly:single
java -jar target/gsl_client-1.0-SNAPSHOT-jar-with-dependencies.jar
```
